<html manifest="game.manifest"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible"content="IE=edge"><meta name="viewport"content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="apple-mobile-web-app-capable"content="yes"><meta name="apple-mobile-web-app-status-bar-style"content="black"><meta name="apple-mobile-web-app-title"content="Game Title"><title>Elephant In The Room</title><meta name="description"content="Game description"><meta property="og:type"content="game"><meta property="og:title"content="Game Title"><meta property="og:description"content="Game description"><style type="text/css">:root{--btn:#1288D1;--btn--pressed:#29ADFF;--btnIcon:#222222;--btnIcon--pressed:#111111;--btn__analogBg:#232f37}body{font-family:Verdana,Arial,sans-serif;padding:0;margin:0;outline:0;background:#222;overflow:hidden}canvas#canvas{width:512px;height:512px;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:optimize-contrast;image-rendering:pixelated;-ms-interpolation-mode:nearest-neighbor;border:0}@media screen and (max-width:512px){canvas#canvas{width:100%;height:auto}}.canvas-wrapper{text-align:center}.canvas-wrapper canvas{margin:0 auto}.pico8_btns{text-align:center}.pico8_el{width:82px;display:inline-block;margin:1px;padding:4px;text-align:center;color:#fff;background-color:#777;font-size:9pt;cursor:pointer}.pico8_el a{text-decoration:none;color:#fff}.pico8_el:hover{background-color:#aaa}.pico8_el:link{background-color:#aaa}.touch-not-supported .show-if-touch{display:none}.touch-supported .show-if-not-touch{display:none}.not-standalone .show-if-standalone{display:none}.is-standalone .show-if-not-standalone{display:none}</style><body><script>-1!==window.location.href.indexOf("?touch")||-1!==window.location.href.indexOf("&touch")||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?(document.body.className+=" touch-supported",window.TOUCH=!0):document.body.className+=" touch-not-supported",-1!==window.location.href.indexOf("?standalone")||-1!==window.location.href.indexOf("&standalone")||navigator.standalone?(document.body.className+=" is-standalone",window.TOUCH=!0):document.body.className+=" not-standalone"</script><div class="canvas-wrapper"><canvas class="emscripten"id="canvas"oncontextmenu="event.preventDefault()"></canvas></div><div><script>var canvas=document.getElementById("canvas"),Module={canvas:canvas},onKeyDown_blocker=(canvas.width=window.innerWidth,canvas.height=window.innerHeight,function(e){e=e||window.event;var n=document.activeElement;n&&n!=document.body&&"canvas"!=n.tagName||-1<[32,37,38,39,40].indexOf(e.keyCode)&&e.preventDefault&&e.preventDefault()});document.addEventListener("keydown",onKeyDown_blocker,!1)</script><script async src="game.js"></script></div><style>.clear{clear:both}</style><script>var GPIO_BUTTONSET_INDEX,GPIO_ANALOG_X_INDEX,GPIO_ANALOG_Y_INDEX,pico8_buttons,pico8_gpio,changeButtonset;function resizeCanvas(){var n=window.innerWidth,t=window.innerHeight,n=(document.fullscreenElement||document.mozFullScreenElement||document.webkitIsFullScreen||document.msFullscreenElement,Math.max(128,Math.min(8*Math.floor(n/8),8*Math.floor(t/8))));canvas.style.width=n,canvas.style.height=n,window.focus()}window.TOUCH&&(GPIO_ANALOG_X_INDEX=1,GPIO_ANALOG_Y_INDEX=2,pico8_buttons=[GPIO_BUTTONSET_INDEX=0,0,0,0,0,0,0,0],pico8_gpio=new Array(128),function(){function i(n){var t;f(100,100),n=n||d;for(var e=0;e<n.length;e++)(t=d[e]).style.left="50%",t.style.top="50%"}function e(n){pico8_buttons[0]&=~n,h()}function o(n,t){var e;t&&(e=0,(n=E(n,t)).x<.4&&(e=v.L),.6<n.x&&(e=v.R),m([e,0]))}function c(n,t){var e;t&&(e=0,(n=E(n,t)).y<.4&&(e=v.U),.6<n.y&&(e=v.D),m([0,e]))}function r(n,t){var e,o;t&&(o=e=0,(n=E(n,t)).x<.3&&(e=v.L),.7<n.x&&(e=v.R),n.y<.3&&(o=v.U),.7<n.y&&(o=v.D),m([e,o]))}function a(n,t,e){var o,i,c;e&&(.35<(e=(e=(n=E(n,e)).x-.5)<-.35?-.35:e)&&(e=.35),.35<(o=(o=n.y-.5)<-.35?-.35:o)&&(o=.35),.85<(i=(i=n.x)<(c=.15)?c:i)&&(i=.85),.85<(c=(c=n.y)<(n=.15)?n:c)&&(c=.85),t.style.left=Math.round(100*i)+"%",t.style.top=Math.round(100*c)+"%",f(Math.floor(e/.35*50+100),Math.floor(o/.35*50+100)))}function u(){m([])}function l(n){n.preventDefault(),n.stopPropagation()}function n(){var r=null;return{fillFromTouchStart:function(n,t){var e,o,i=t.getBoundingClientRect();if(console.log(i.left,i.right),e=n.changedTouches)for(var c=0;c<e.length;c++)if(o=e[c],console.log(o.clientX),o.clientX>i.left-10&&o.clientX<i.right+10&&o.clientY>i.top-10&&o.clientY<i.bottom+10)return r=o.identifier,o;return r=null},findFromTouchMove:function(n){var t,e;if(null!==r&&(t=n.changedTouches))for(var o=0;o<t.length;o++)if((e=t[o]).identifier===r)return e;return null},clear:function(){r=null}}}function t(n,t){n.addEventListener("touchstart",function(n){l(n),pico8_buttons[0]|=t,h()},!1),n.addEventListener("touchmove",l,!1),n.addEventListener("touchend",function(n){l(n),e(t)},!1),n.addEventListener("touchcancel",function(n){l(n),e(t)},!1)}for(var s,d=document.querySelectorAll(".axis-analog .btn__stick"),f=function(n,t){pico8_gpio[GPIO_ANALOG_X_INDEX]=n,pico8_gpio[GPIO_ANALOG_Y_INDEX]=t},h=(i(),s=document.getElementById("btns-markPressed"),function(){var n,t="",e=pico8_buttons[0];for(n in v)v.hasOwnProperty(n)&&0<(e&v[n])&&(t+=" pressed_"+n);s.className=t}),v={L:1,R:2,U:4,D:8,O:16,X:32},m=function(n){pico8_buttons[0]&=~(v.U|v.D|v.L|v.R);for(var t=0;t<n.length;t++)pico8_buttons[0]|=n[t];h()},E=function(n,t){n=n.getBoundingClientRect();return 0===n.width||0===n.height?{x:0,y:0}:{x:Math.min(1,Math.max(0,(t.clientX-n.left)/n.width)),y:Math.min(1,Math.max(0,(t.clientY-n.top)/n.height))}},g=document.getElementsByClassName("axis-leftRight"),_=document.getElementsByClassName("axis-upDownLeftRight"),L=document.getElementsByClassName("axis-upDown"),w=document.getElementsByClassName("axis-analog"),p=document.getElementsByClassName("btn-fire-x"),y=document.getElementsByClassName("btn-fire-o"),N=0;N<g.length;N++)!function(t){var e=n();t.addEventListener("touchstart",function(n){l(n),o(t,e.fillFromTouchStart(n,t))},!1),t.addEventListener("touchmove",function(n){l(n),o(t,e.findFromTouchMove(n))},!1),t.addEventListener("touchend",function(n){e.clear(),l(n),u()},!1),t.addEventListener("touchcancel",function(n){e.clear(),l(n),u()},!1)}(g[N]);for(N=0;N<_.length;N++)!function(t){var e=n();t.addEventListener("touchstart",function(n){l(n),r(t,e.fillFromTouchStart(n,t))},!1),t.addEventListener("touchmove",function(n){l(n),r(t,e.findFromTouchMove(n))},!1),t.addEventListener("touchend",function(n){e.clear(),l(n),u()},!1),t.addEventListener("touchcancel",function(n){e.clear(),l(n),u()},!1)}(_[N]);for(N=0;N<L.length;N++)!function(t){var e=n();t.addEventListener("touchstart",function(n){l(n),c(t,e.fillFromTouchStart(n,t))},!1),t.addEventListener("touchmove",function(n){l(n),c(t,e.findFromTouchMove(n))},!1),t.addEventListener("touchend",function(n){e.clear(),l(n),u()},!1),t.addEventListener("touchcancel",function(n){e.clear(),l(n),u()},!1)}(L[N]);for(N=0;N<w.length;N++)!function(t){var e=t.querySelector(".btn__stick"),o=n();t.addEventListener("touchstart",function(n){l(n),a(t,e,o.fillFromTouchStart(n,t))},!1),t.addEventListener("touchmove",function(n){l(n),a(t,e,o.findFromTouchMove(n))},!1),t.addEventListener("touchend",function(n){o.clear(),l(n),i([e])},!1),t.addEventListener("touchcancel",function(n){o.clear(),l(n),i([e])},!1)}(w[N]);for(N=0;N<p.length;N++)t(p[N],v.X);for(N=0;N<y.length;N++)t(y[N],v.O)}()),window.addEventListener("load",resizeCanvas,!1),window.addEventListener("resize",resizeCanvas,!1),window.addEventListener("orientationchange",resizeCanvas,!1),window.addEventListener("fullscreenchange",resizeCanvas,!1),window.addEventListener("webkitfullscreenchange",resizeCanvas,!1)</script>
